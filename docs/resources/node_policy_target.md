---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "devzero_node_policy_target Resource - devzero"
subcategory: ""
description: |-
  Attaches a node policy to specific clusters. Node policy targets determine which clusters a node policy applies to.
---

# devzero_node_policy_target (Resource)

Attaches a node policy to specific clusters. Node policy targets determine which clusters a node policy applies to.

## Example Usage

```terraform
# Prerequisites - need cluster and node policy resources
resource "devzero_cluster" "production" {
  name = "production-cluster"
}

resource "devzero_node_policy" "general" {
  name            = "general-purpose"
  node_pool_name  = "general-pool"
  node_class_name = "general-class"
}

# Minimal example - only required attributes
resource "devzero_node_policy_target" "minimal" {
  name        = "production-clusters"
  policy_id   = devzero_node_policy.general.id
  cluster_ids = [devzero_cluster.production.id]

  # Defaults applied automatically:
  # - description = ""
  # - enabled = true
}

# Comprehensive example - all attributes
resource "devzero_node_policy_target" "comprehensive" {
  name        = "production-general-target"
  description = "Applies general purpose node policy to production clusters"
  policy_id   = devzero_node_policy.general.id
  enabled     = true
  cluster_ids = [
    devzero_cluster.production.id,
    # Add more cluster IDs as needed
  ]
}

# Example with multiple clusters
resource "devzero_cluster" "us_east" {
  name = "production-us-east-1"
}

resource "devzero_cluster" "us_west" {
  name = "production-us-west-2"
}

resource "devzero_cluster" "eu_west" {
  name = "production-eu-west-1"
}

resource "devzero_node_policy_target" "multi_cluster" {
  name        = "all-production-clusters"
  description = "Apply cost optimization policy to all production clusters"
  policy_id   = devzero_node_policy.general.id
  enabled     = true
  cluster_ids = [
    devzero_cluster.us_east.id,
    devzero_cluster.us_west.id,
    devzero_cluster.eu_west.id,
  ]
}

# Example of disabled target (for temporary disabling without destroying)
resource "devzero_node_policy_target" "disabled" {
  name        = "staging-clusters"
  description = "Temporarily disabled while testing new policy"
  policy_id   = devzero_node_policy.general.id
  enabled     = false # Target exists but is not active
  cluster_ids = [devzero_cluster.production.id]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster_ids` (List of String) List of cluster IDs to apply the node policy to. Must reference existing cluster IDs.
- `name` (String) Human-friendly name for the target. Used for display in the DevZero UI.
- `policy_id` (String) Node policy to attach this target to. Must reference an existing `devzero_node_policy` resource ID.

### Optional

- `description` (String) Free-form description of the target to help others understand its purpose.
- `enabled` (Boolean) Whether this target is active. When false, the node policy will not be applied to the specified clusters.

### Read-Only

- `id` (String) Unique identifier of the node policy target. Managed by the provider.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
#!/bin/bash

# Import an existing node policy target by its ID
terraform import devzero_node_policy_target.example "target-id-here"

# Example with actual ID format
terraform import devzero_node_policy_target.comprehensive "c84ccd96-d3f6-439d-9976-360577123fe0"
```
